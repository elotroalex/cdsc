!function(){function t(t,i){if("object"==typeof t[0]){var e=[],s=t[0].opt.gridwidth,h=t[0].opt.visibilityLevels;Array.isArray(this.gridWidth)&&(s=s[0]),t.find("> ul > li").each(function(o){if(this.hasAttribute("data-filmstrip")){var d=n(this),a={transition:"fade",masterspeed:300};0===o&&(a.fstransition="fade",a.fsmasterspeed=300),e[e.length]=new r(t[0],i,s,h,d.data(a),JSON.parse(this.getAttribute("data-filmstrip")))}}),this.slider=t,this.strips=e,t.one("revolution.slide.onloaded",this.onLoaded.bind(this)).on("revolution.slide.onbeforeswap",this.beforeSwap.bind(this)).on("revolution.slide.onafterswap",this.afterSwap.bind(this))}}function i(t){var i={};i[t.direction]=t.resetPosition,punchgs.TweenLite.set(t.strip,i),e.call(t)}function e(){var t={ease:punchgs.Linear.easeNone,onComplete:i,onCompleteParams:[this]};t[this.direction]=this.moveTo,this.carousel?this.tween?this.tween.resume():this.tween=punchgs.TweenLite.to(this.strip,this.time,t):punchgs.TweenLite.to(this.strip,this.time,t)}function s(t){var i=document.createElement("img");return i.className="rs-addon-strip-img",i.setAttribute("data-lazyload",t.url),t.alt&&i.setAttribute("alt",t.alt),i.src=o+"/assets/images/transparent.png",i}function r(t,i,e,r,h,o){for(var d,a=o.imgs,l=a.length,p=document.createDocumentFragment(),c="left-to-right"===o.direction||"top-to-bottom"===o.direction,u=0;2>u;u++)if(c)for(d=l;d--;)p.appendChild(s(a[d]));else for(d=0;d<l;d++)p.appendChild(s(a[d]));for(l=document.createElement("div"),u=o.filter?" "+o.filter:"",d=-1!==o.direction.search(/left|right/)?"horizontal":"vertical",l.className="rs-addon-strip-wrap rs-addon-strip-"+d+u,l.appendChild(p),h[0].appendChild(l),h[0].className+=" rs-addon-strip",this.strip=l,this.slide=h,this.slider=t,this.levels=r,this.reverse=c,this.carousel=i,this.gridWidth=e,this.times=o.times.split(","),this.resizer=this.sizer.bind(this),this.direction="horizontal"===d?"x":"y",l=(t=o.times.split(",")).length,speeds=[],u=0;4>u;u++)(i=u<l?parseInt(t[u]):10)?2>i&&(i=2):i=10,speeds[u]=i;this.times=speeds,n.data(h[0],"rs-addon-strip-"+h[0].getAttribute("data-index"),this)}var n,h,o;window.RsFilmstripAddOn=function(i,e,s,r){i&&e&&(h=(n=i)(window),"/"===(o=s).substr(o.length-1)&&(o=o.slice(0,-1)),n.event.special.rsStripDestroyed={remove:function(t){t.handler()}},new t(e,r))},t.prototype={onLoaded:function(){if(!this.checkRemoved())for(var t=this.strips.length,i=0;i<t;i++)this.strips[i].slide.find(".slotholder").append(this.strips[i].strip)},beforeSwap:function(t,i){this.checkRemoved()||i.nextslide.hasClass("rs-addon-strip")&&n.data(i.nextslide[0],"rs-addon-strip-"+i.nextslide[0].getAttribute("data-index")).start()},afterSwap:function(t,i){!this.checkRemoved()&&i.prevslide.hasClass("rs-addon-strip")&&n.data(i.prevslide[0],"rs-addon-strip-"+i.prevslide[0].getAttribute("data-index")).onStop()},checkRemoved:function(){return(!this.slider||!document.body.contains(this.slider[0]))&&(this.destroy(),!0)},destroy:function(){if(h.off("resize.rsaddonstrip"),this.strips)for(;this.strips.length;)this.strips[0].destroy(),this.strips.shift();for(var t in this)this.hasOwnProperty(t)&&delete this[t]}},r.prototype={start:function(){if(clearTimeout(this.timer),this.resizeAdded||this.addResize(),!this.carousel||this.carousel&&!this.tween){var t={};t[this.direction]=this.resetPosition,punchgs.TweenLite.set(this.strip,t)}this.running=!0,this.timer=setTimeout(this.onStart.bind(this),100)},onStart:function(){this.carousel||(this.strip.style.opacity="1"),e.call(this)},stop:function(){clearTimeout(this.timer),this.carousel&&this.tween?this.tween.pause():punchgs.TweenLite.killTweensOf(this.strip)},onStop:function(){this.running=!1,this.carousel||(this.strip.style.opacity="0"),this.stop()},addResize:function(){h.on("resize.rsaddonstrip",this.onResize.bind(this)),"x"===this.direction&&(this.strip.style.height=this.slider.clientHeight+"px"),this.resizeAdded=!0,this.sizer(!0)},onResize:function(){clearTimeout(this.resize),this.carousel&&delete this.tween,this.stop(),"x"===this.direction&&(this.strip.style.height=this.slider.clientHeight+"px"),this.resize=setTimeout(this.resizer,100)},sizer:function(){for(var t,i=this.slider.clientWidth,e=0;4>e;e++)if(i>=this.levels[e]){this.time=this.times[e],t=!0;break}t||(this.time=this.times[3]),"x"===this.direction?(t=this.strip.clientWidth,this.strip.style.height=this.slider.clientHeight+"px",this.reverse?(this.moveTo=-(t/2-i),this.resetPosition=-(t-i)):(this.moveTo=-t/2,this.resetPosition=0)):(i=this.strip.clientHeight,this.reverse?(t=this.slider.clientHeight,this.moveTo=-(i/2-t),this.resetPosition=-(i-t)):(this.moveTo=-i/2,this.resetPosition=0)),this.running?this.start():this.carousel&&((i={})[this.direction]=this.resetPosition,punchgs.TweenLite.set(this.strip,i))},destroy:function(){for(var t in clearTimeout(this.timer),clearTimeout(this.resize),punchgs.TweenLite.killTweensOf(this.strip),n.removeData(this.slide[0],"rs-addon-strip-"+this.slide[0].getAttribute("data-index")),this)this.hasOwnProperty(t)&&delete this[t]}}}();